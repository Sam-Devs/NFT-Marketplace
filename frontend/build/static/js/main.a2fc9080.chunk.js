(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{422:function(e){e.exports=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ApprovalCallerNotOwnerNorApproved",type:"error"},{inputs:[],name:"ApprovalQueryForNonexistentToken",type:"error"},{inputs:[],name:"ApproveToCaller",type:"error"},{inputs:[],name:"BalanceQueryForZeroAddress",type:"error"},{inputs:[],name:"MintERC2309QuantityExceedsLimit",type:"error"},{inputs:[],name:"MintToZeroAddress",type:"error"},{inputs:[],name:"MintZeroQuantity",type:"error"},{inputs:[],name:"OwnerQueryForNonexistentToken",type:"error"},{inputs:[],name:"OwnershipNotInitializedForExtraData",type:"error"},{inputs:[],name:"TransferCallerNotOwnerNorApproved",type:"error"},{inputs:[],name:"TransferFromIncorrectOwner",type:"error"},{inputs:[],name:"TransferToNonERC721ReceiverImplementer",type:"error"},{inputs:[],name:"TransferToZeroAddress",type:"error"},{inputs:[],name:"URIQueryForNonexistentToken",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"fromTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"toTokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"ConsecutiveTransfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"bool",name:"sold",type:"bool"}],name:"MarketItemCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DodCounter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"TransferToOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"}],name:"changeTokenPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"createMarketItem",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"createMarketSale",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"tokenURI",type:"string"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_src",type:"string"}],name:"createToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"fetchItemsListed",outputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"tokenName",type:"string"},{internalType:"string",name:"tokenURI",type:"string"},{internalType:"address payable",name:"mintedBy",type:"address"},{internalType:"address payable",name:"currentOwner",type:"address"},{internalType:"bool",name:"listed",type:"bool"},{internalType:"address payable",name:"previousOwner",type:"address"},{internalType:"bool",name:"sold",type:"bool"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"numberOfTransfers",type:"uint256"},{internalType:"string",name:"src",type:"string"}],internalType:"struct NFTMarketPlace.DodNFT[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"fetchMarketItems",outputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"tokenName",type:"string"},{internalType:"string",name:"tokenURI",type:"string"},{internalType:"address payable",name:"mintedBy",type:"address"},{internalType:"address payable",name:"currentOwner",type:"address"},{internalType:"bool",name:"listed",type:"bool"},{internalType:"address payable",name:"previousOwner",type:"address"},{internalType:"bool",name:"sold",type:"bool"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"numberOfTransfers",type:"uint256"},{internalType:"string",name:"src",type:"string"}],internalType:"struct NFTMarketPlace.DodNFT[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"fetchMyNFTs",outputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"tokenName",type:"string"},{internalType:"string",name:"tokenURI",type:"string"},{internalType:"address payable",name:"mintedBy",type:"address"},{internalType:"address payable",name:"currentOwner",type:"address"},{internalType:"bool",name:"listed",type:"bool"},{internalType:"address payable",name:"previousOwner",type:"address"},{internalType:"bool",name:"sold",type:"bool"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"numberOfTransfers",type:"uint256"},{internalType:"string",name:"src",type:"string"}],internalType:"struct NFTMarketPlace.DodNFT[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getListingPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenURI",type:"uint256"}],name:"getTokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"oneDod",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"tokenName",type:"string"},{internalType:"string",name:"tokenURI",type:"string"},{internalType:"address payable",name:"mintedBy",type:"address"},{internalType:"address payable",name:"currentOwner",type:"address"},{internalType:"bool",name:"listed",type:"bool"},{internalType:"address payable",name:"previousOwner",type:"address"},{internalType:"bool",name:"sold",type:"bool"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"numberOfTransfers",type:"uint256"},{internalType:"string",name:"src",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"removeFromSale",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"}],name:"resellToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"tokenNameExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_listingPrice",type:"uint256"}],name:"updateListingPrice",outputs:[],stateMutability:"payable",type:"function"}]},423:function(e,t,n){e.exports=n.p+"static/media/loading.26ef8bb4.gif"},424:function(e,t,n){e.exports=n.p+"static/media/metamask.fbf33967.svg"},426:function(e,t,n){e.exports=n(993)},440:function(e,t,n){},454:function(e,t){},456:function(e,t){},548:function(e,t){},588:function(e,t){},593:function(e,t){},595:function(e,t){},605:function(e,t){},607:function(e,t){},631:function(e,t){},632:function(e,t){},638:function(e,t){},657:function(e,t){},723:function(e,t){},725:function(e,t){},751:function(e,t){},759:function(e,t){},777:function(e,t){},778:function(e,t){},989:function(e,t,n){},993:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(416),o=n.n(s),i=n(123),c=n(1),l=n.n(c),d=n(67),u=n(5),m=n(6),p=n(12),y=n(7),f=n(13),b=n(79),h=n(58),g=n(102),T=n.n(g),N=(n(440),n(183)),v=n.n(N),w=n(185),E=n(157),k=n(422),x=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(y.a)(t).call(this,e))).componentDidMount=Object(d.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.setMintBtnTimer();case 2:case"end":return e.stop()}},e)})),n.callMintMyNFTFromApp=function(e){e.preventDefault(),n.props.mintMyNFT(n.state.dodName,n.state.dodPrice,n.state.imgDoc,n.state.src)},n.setImg=function(e){n.setState({imgDoc:e.target.files[0]}),console.log("this.state.imgDoc",n.state.imgDoc);var t=URL.createObjectURL(e.target.files[0]);return n.setState({src:t}),function(){return URL.revokeObjectURL(t)}},n.state={dodName:"",dodPrice:"",imgDoc:null,src:""},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"card mt-1"},r.a.createElement("div",{className:"card-body align-items-center d-flex justify-content-center"},r.a.createElement("h5",null,"Upload your image and mint to become a  DOD NFT for free "))),r.a.createElement("form",{onSubmit:this.callMintMyNFTFromApp,className:"pt-4 mt-1"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{className:"form-group"},this.state.src?"":r.a.createElement("label",{htmlFor:"Dodname"},"Select a picture to upload"),this.state.src?r.a.createElement("img",{src:this.state.src,style:{width:"2rem"},className:"w-100 p-2 mt-1 border",alt:""}):"",r.a.createElement("input",{required:!0,type:"file",name:"imageUpload",id:"imageUpload",accept:"image/*",className:"form-control",onChange:function(t){return e.setImg(t)}}))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Dodname"},"Name"),r.a.createElement("input",{required:!0,type:"text",value:this.state.dodName,className:"form-control",placeholder:"Enter Your Dod Nft's Name",onChange:function(t){return e.setState({dodName:t.target.value})}})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"price"},"Price (USDC)"),r.a.createElement("input",{required:!0,type:"number",name:"price",id:"dodPrice",value:this.state.dodPrice,className:"form-control",placeholder:"Enter Price In USDC\u039e",onChange:function(t){return e.setState({dodPrice:t.target.value})}})),r.a.createElement("button",{id:"mintBtn",style:{fontSize:"0.9rem",letterSpacing:"0.14rem"},type:"submit",className:"btn mt-4 btn-block btn-outline-primary",disabled:!this.state.dodPrice||!this.state.dodName||!this.state.src},"Mint My DOD NFT"),r.a.createElement("div",{className:"mt-4"},this.props.nameIsUsed?r.a.createElement("div",{className:"alert alert-danger alert-dissmissible"},r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert"},r.a.createElement("span",null,"\xd7")),r.a.createElement("strong",null,"This name is taken!")):null)))))}}]),t}(a.Component),O=n(124),D=function(e){var t=e.imgUrl;return r.a.createElement("div",null,r.a.createElement("img",{src:t,alt:"",style:{width:"15rem",height:"15rem",objectFit:"cover",padding:"10px",border:"1px solid #ced4da"}}))},S=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(y.a)(t).call(this,e))).callChangeTokenPriceFromApp=function(e,t){n.props.changeTokenPrice(e,t)},n.state={newDodNftPrice:""},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{key:this.props.dodNft.tokenId.toNumber(),className:"mt-4"},r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold"},"Token Id")," :"," ",this.props.dodNft.tokenId.toNumber()),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold"},"Name")," :"," ",this.props.dodNft.tokenName),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold"},"Minted By")," :"," ",this.props.dodNft.mintedBy.substr(0,5)+"..."+this.props.dodNft.mintedBy.slice(this.props.dodNft.mintedBy.length-5)),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold"},"Owned By")," :"," ",this.props.dodNft.currentOwner.substr(0,5)+"..."+this.props.dodNft.currentOwner.slice(this.props.dodNft.currentOwner.length-5)),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold"},"Previous Owner")," :"," ",this.props.dodNft.previousOwner.substr(0,5)+"..."+this.props.dodNft.previousOwner.slice(this.props.dodNft.previousOwner.length-5)),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold"},"Price")," :"," ",window.web3.utils.fromWei(this.props.dodNft.price.toString(),"Ether")," ","USDC \u039e"),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold"},"No. of Transfers")," :"," ",this.props.dodNft.numberOfTransfers.toNumber()),r.a.createElement("div",null,this.props.accountAddress!==this.props.dodNft.currentOwner||this.props.dodNft.listed?null:r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.callChangeTokenPriceFromApp(e.props.dodNft.tokenId.toNumber(),e.state.newDodNftPrice)}},r.a.createElement("div",{className:"form-group mt-4 "},r.a.createElement("label",{htmlFor:"newDodNftPrice"},r.a.createElement("span",{className:"font-weight-bold"},"Change Token Price")," :")," ",r.a.createElement("input",{required:!0,type:"number",name:"newDodNftPrice",id:"newDodNftPrice",value:this.state.newDodNftPrice,className:"form-control w-50",placeholder:"Enter new price",onChange:function(t){return e.setState({newDodNftPrice:t.target.value})}})),r.a.createElement("button",{type:"submit",style:{fontSize:"0.8rem",letterSpacing:"0.14rem"},className:"btn btn-outline-info mt-0 w-50"},"change price"))),r.a.createElement("div",null,this.props.accountAddress===this.props.dodNft.currentOwner?this.props.dodNft.listed?r.a.createElement("button",{className:"btn btn-outline-danger mt-4 w-50",style:{fontSize:"0.8rem",letterSpacing:"0.14rem"},onClick:function(){return e.props.removeFromSale(e.props.dodNft.tokenId.toNumber())}},"Remove from sale"):r.a.createElement("button",{className:"btn btn-outline-success mt-4 w-50",style:{fontSize:"0.8rem",letterSpacing:"0.14rem"},onClick:function(){return e.props.addForSale(e.props.dodNft.tokenId.toNumber(),e.props.dodNft.price)}},"Keep for sale"):null),r.a.createElement("div",null,this.props.accountAddress!==this.props.dodNft.currentOwner?this.props.dodNft.listed?r.a.createElement("button",{className:"btn btn-outline-primary mt-3 w-50",value:this.props.dodNft.price,style:{fontSize:"0.8rem",letterSpacing:"0.14rem"},onClick:function(t){return e.props.buyDodNft(e.props.dodNft.tokenId.toNumber(),t.target.value)}},"Buy For"," ",window.web3.utils.fromWei(this.props.dodNft.price.toString(),"Ether")," ","USDC"):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"mt-2",style:{color:"blue",fontSize:"16px",fontWeight:"bold"}},"Currently not for sale!")):null))}}]),t}(a.Component),M=n(423),A=n.n(M),I=function(e){var t=e.text;return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:A.a,alt:"Loading..",className:"d-block m-auto"}),r.a.createElement("h4",{style:{textAlign:"center"}}," ",t||"Loading ..."," "))},F=function(e){var t=e.DODnfts,n=e.accountAddress,s=e.totalTokensMinted,o=e.changeTokenPrice,i=e.addForSale,c=e.buyDodNft,l=e.removeFromSale,d=Object(a.useState)(!1),u=Object(O.a)(d,2),m=u[0],p=u[1];return Object(a.useEffect)(function(){0!==t.length&&(void 0!==t[0].metaData?p(m):p(!1))},[t]),r.a.createElement("div",null,r.a.createElement("div",{className:"card mt-1"},r.a.createElement("div",{className:"card-body align-items-center d-flex justify-content-center"},r.a.createElement("h5",null,"Total No. of Dod Nfts Minted On The Platform :"," ",s))),r.a.createElement("div",{className:"d-flex flex-wrap mb-2"},t.map(function(e){return r.a.createElement("div",{key:e.tokenId.toNumber(),className:"w-50 p-4 mt-1 border"},0!==e.tokenId.toNumber()?r.a.createElement("div",null,m?r.a.createElement(I,null):r.a.createElement(D,{imgUrl:e.src}),r.a.createElement(S,{dodNft:e,accountAddress:n,changeTokenPrice:o,addForSale:i,buyDodNft:c,removeFromSale:l})):"")})))},C=function(e){var t=e.accountAddress,n=e.accountBalance;return r.a.createElement("div",null,r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h1",{className:"display-5"},"DOD NFT Marketplace"),r.a.createElement("p",{className:"lead"},"This is an NFT marketplace where you can mint ERC721 implemented"," ",r.a.createElement("i",null,"DOD NFTs")," and manage them."),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("p",{className:"lead"},"Account address :"),r.a.createElement("h4",null,t),r.a.createElement("p",{className:"lead"},"Account balance :"),r.a.createElement("h4",null,n," \u039e")))},j=function(){return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h3",null,"DOD Nft Contract Not Deployed To This Network."),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("p",{className:"lead"},"Connect Metamask to Polygon Testnet"))},B=n(424),P=n.n(B),R=function(e){var t=e.connectToMetamask;return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h1",{className:"display-5"},"DOD NFT Marketplace"),r.a.createElement("p",{className:"lead"},"This is an NFT marketplace where you can mint your ERC721 implemented"," ",r.a.createElement("i",null,"DOD NFTs")," and manage them."),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("button",{onClick:t,className:"btn btn-primary d-flex align-items-center",style:{fontSize:"0.9rem",letterSpacing:"0.14rem"}},"Connect Metamask"," ",r.a.createElement("img",{src:P.a,alt:"metamask-icon",style:{width:"2rem",marginLeft:"0.5rem"}})))},U=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark"},r.a.createElement("div",{className:"container"},r.a.createElement(b.b,{to:"/",className:"navbar-brand ml-2"},"DOD NFTs"),r.a.createElement("button",{className:"navbar-toggler","data-toggle":"collapse","data-target":"#navbarNav"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{id:"navbarNav",className:"collapse navbar-collapse"},r.a.createElement("ul",{style:{fontSize:"0.8rem",letterSpacing:"0.2rem"},className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(b.b,{to:"/",className:"nav-link"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(b.b,{to:"/mint",className:"nav-link"},"Mint NFT")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(b.b,{to:"/marketplace",className:"nav-link"},"Marketplace")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(b.b,{to:"/my-tokens",className:"nav-link"},"My Tokens")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(b.b,{to:"/queries",className:"nav-link"},"Queries"))))))},W=function(e){var t=e.dod,n=t.tokenId,a=t.tokenName,s=t.price,o=t.mintedBy,i=t.previousOwner,c=t.numberOfTransfers;return r.a.createElement("div",{key:n.toNumber(),className:"mt-4 ml-3"},r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold"},"Token Id")," :"," ",n.toNumber()),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold"},"Name")," : ",a),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold"},"Price")," :"," ",window.web3.utils.fromWei(s.toString(),"Ether")," \u039e"),r.a.createElement("p",null,r.a.createElement("span",{className:"font-weight-bold"},"No. of Transfers")," :"," ",c.toNumber()),e.accountAddress===o&&e.accountAddress!==i?r.a.createElement("div",{className:"alert alert-success w-50 text-center m-auto"},"Minted"):r.a.createElement("div",{className:"alert alert-info w-50 text-center m-auto"},"Bought"))},L=function(e){var t=e.accountAddress,n=e.DODnfts,s=e.totalTokensOwnedByAccount,o=Object(a.useState)(!1),i=Object(O.a)(o,2),c=i[0],l=(i[1],Object(a.useState)([])),d=Object(O.a)(l,2),u=d[0],m=d[1];return Object(a.useEffect)(function(){var e=n.filter(function(e){return e.currentOwner===t});m(e)},[n]),r.a.createElement("div",null,r.a.createElement("div",{className:"card mt-1"},r.a.createElement("div",{className:"card-body align-items-center d-flex justify-content-center"},r.a.createElement("h5",null,"Total No. of DODs You Own : ",s))),r.a.createElement("div",{className:"d-flex flex-wrap mb-2"},u.map(function(e){return r.a.createElement("div",{key:e.tokenId.toNumber(),className:"w-50 p-4 mt-1 border"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},c?r.a.createElement(I,null):r.a.createElement(D,{imgUrl:e.src})),r.a.createElement("div",{className:"col-md-6 text-center"},r.a.createElement(W,{dod:e,accountAddress:t}))))})))},H=function(e){var t=Object(a.useState)(""),n=Object(O.a)(t,2),s=n[0],o=n[1],i=Object(a.useState)(""),c=Object(O.a)(i,2),u=c[0],m=c[1],p=Object(a.useState)(!1),y=Object(O.a)(p,2),f=y[0],b=y[1],h=function(){var t=Object(d.a)(l.a.mark(function t(n){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,e.DodNftContract.methods.oneDod(s).call();case 4:"0x0000000000000000000000000000000000000000"===(a=t.sent).currentOwner?b(!0):m(a.currentOwner),setTimeout(function(){m(""),o("")},5e3),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),b(!0),o("");case 13:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",{className:"card mt-1"},r.a.createElement("div",{className:"card-body align-items-center d-flex justify-content-center"},r.a.createElement("h5",null,"Queries"))),r.a.createElement("div",{className:"p-4 border d-grid grid-cols-2 gap-4"},r.a.createElement("div",{className:"row w-100"},r.a.createElement("div",{className:"col-md-5"},r.a.createElement("h5",null,"Get Token Owner"),r.a.createElement("form",{onSubmit:h},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{required:!0,type:"text",className:"form-control",value:s,placeholder:"Enter Token Id",onChange:function(e){return o(e.target.value)}})),r.a.createElement("button",{className:"mt-3 btn btn-outline-primary",type:"submit"},"Get Owner"),f?r.a.createElement("div",{className:"alert alert-danger alert-dissmissible mt-4"},r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert"},r.a.createElement("span",null,"\xd7")),r.a.createElement("strong",null,"Non-Existent Token Id")):null),r.a.createElement("p",{className:"mt-4"},u)))))},z=n(730)({host:"ipfs.infura.io",port:5001,protocol:"https",headers:{authorization:"Basic "+btoa("2EVVxxTErel2Mkp9hLUs0Eziklz:ae3354edec14e7d8ea7e82777115534d")}}),Q=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(y.a)(t).call(this,e))).componentDidMount=Object(d.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.loadWeb3();case 2:return e.next=4,n.loadBlockchainData();case 4:return e.next=6,n.setMintBtnTimer();case 6:case"end":return e.stop()}},e)})),n.setMintBtnTimer=function(){var e=document.getElementById("mintBtn");void 0!==e&&null!==e&&(n.setState({lastMintTime:localStorage.getItem(n.state.accountAddress)}),void 0===n.state.lastMintTime||null===n.state.lastMintTime?e.innerHTML="Mint My Dod Nft":n.checkIfCanMint(parseInt(n.state.lastMintTime)))},n.checkIfCanMint=function(e){var t=document.getElementById("mintBtn"),a=e+3e5,r=setInterval(function(){var e=(new Date).getTime(),s=a-e;if(s<0)t.removeAttribute("disabled"),t.innerHTML="Mint My Dod Nft",localStorage.removeItem(n.state.accountAddress),clearInterval(r);else{var o=Math.floor(s%36e5/6e4),i=Math.floor(s%6e4/1e3);t.setAttribute("disabled",!0),t.innerHTML="Next mint in ".concat(o,"m ").concat(i,"s")}},1e3)},n.loadWeb3=Object(d.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.ethereum?window.web3=new v.a(window.ethereum):window.web3?window.web3=new v.a(window.web3.currentProvider):window.alert("Non-Ethereum browser detected. You should consider trying MetaMask!");case 1:case"end":return e.stop()}},e)})),n.loadBlockchainData=Object(d.a)(l.a.mark(function e(){var t,a,r,s,o,c,d,u,m,p,y;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new v.a(window.web3.currentProvider),e.next=3,t.eth.getAccounts();case 3:if(0!==(a=e.sent).length){e.next=8;break}n.setState({metamaskConnected:!1}),e.next=55;break;case 8:return n.setState({metamaskConnected:!0}),n.setState({loading:!0}),n.setState({accountAddress:a[0]}),e.next=13,t.eth.getBalance(a[0]);case 13:return r=e.sent,r=t.utils.fromWei(r,"Ether"),n.setState({accountBalance:r}),n.setState({loading:!1}),e.next=19,t.eth.net.getId();case 19:if(s=e.sent,n.state.chainId!==s){e.next=54;break}return n.setState({loading:!0}),o=new t.eth.Contract(k,n.state.contractAddress),n.setState({DodNftContract:o}),n.setState({contractDetected:!0}),e.next=28,o.methods.DodCounter().call({from:n.state.accountAddress});case 28:c=(c=e.sent).toNumber(),n.setState({dodNftCount:c}),d=1;case 32:if(!(d<=c)){e.next=41;break}return console.log(d),e.next=36,o.methods.oneDod(d).call({from:n.state.accountAddress});case 36:u=e.sent,n.setState({DODnfts:[].concat(Object(i.a)(n.state.DODnfts),[u])});case 38:d++,e.next=32;break;case 41:return e.next=43,o.methods.totalSupply().call({from:n.state.accountAddress});case 43:return m=(m=e.sent).toNumber(),n.setState({totalTokensMinted:m}),e.next=48,o.methods.fetchMyNFTs().call({from:n.state.accountAddress});case 48:p=e.sent,y=p?p.length:0,n.setState({totalTokensOwnedByAccount:y}),n.setState({loading:!1}),e.next=55;break;case 54:n.setState({contractDetected:!1});case 55:case"end":return e.stop()}},e)})),n.connectToMetamask=Object(d.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:n.setState({metamaskConnected:!0}),window.location.reload();case 4:case"end":return e.stop()}},e)})),n.mintMyNFT=function(){var e=Object(d.a)(l.a.mark(function e(t,a,s,o){var i,c,d,u,m,p,y,f;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),e.next=3,n.state.DodNftContract.methods.tokenNameExists(t).call({from:n.state.accountAddress});case 3:if(i=e.sent,n.setState({text:"Checking NFT name availabilty"}),!i){e.next=10;break}n.setState({nameIsUsed:!0}),n.setState({loading:!1}),e.next=35;break;case 10:return n.setState({text:"Do not close this window while minting is in progress"}),e.prev=11,e.next=14,z.add(s);case 14:return c=e.sent,d="https://dodnfts.infura-ipfs.io/ipfs/".concat(c.path),e.next=18,n.state.DodNftContract.methods.DodCounter().call({from:n.state.accountAddress});case 18:return u=(u=e.sent).toNumber(),m={tokenName:"DOD NFT",tokenSymbol:"DOD",image:d,tokenId:"".concat(u),name:t},e.next=23,z.add(JSON.stringify(m));case 23:return p=e.sent,y="https://ipfs.infura.io/ipfs/".concat(p.path),f=window.web3.utils.toWei(a.toString(),"Ether"),e.next=28,n.state.DodNftContract.methods.createToken(y,f,t,d).send({from:n.state.accountAddress}).on("transactionHash",function(){localStorage.setItem(n.state.accountAddress,(new Date).getTime()),n.setState({loading:!1}),T.a.success(r.a.createElement("div",null,r.a.createElement("h4",{style:{color:"white",fontWeight:"600"}},"Mint successful")," ",r.a.createElement("p",null,"Block confirmation could take a few minutes.")," ",r.a.createElement("p",null," Refresh marketplace in a few minutes to view newly minted NFT")),{})});case 28:e.next=35;break;case 30:e.prev=30,e.t0=e.catch(11),console.log(e.t0,e.t0.message),n.setState({loading:!1}),T.a.error(e.t0.message?e.t0.message.slice(0,30):"Mint failed");case 35:case"end":return e.stop()}},e,null,[[11,30]])}));return function(t,n,a,r){return e.apply(this,arguments)}}(),n.addForSale=function(){var e=Object(d.a)(l.a.mark(function e(t,a){var s,o,i,c,u,m,p,y,f;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),n.setState({text:"Do not close this window while NFT is being listed"}),e.prev=2,s=new E.a.providers.Web3Provider(window.ethereum),o=s.getSigner(n.state.accountAddress),i=new w.a(s,o,n.state.chainId),c={tokenAddress:n.state.contractAddress,tokenId:t,type:"ERC721"},u={tokenAddress:"0xe11a86849d99f524cac3e7a0ec1241828e332c62",amount:a,type:"ERC20"},e.next=10,i.loadApprovalStatus(c,n.state.accountAddress);case 10:if(e.sent.contractApproved){e.next=19;break}return e.next=14,i.approveTokenOrNftByAsset(c,n.state.accountAddress);case 14:return m=e.sent,e.next=17,m.wait();case 17:p=e.sent,console.log("Approved ".concat(c.tokenAddress," contract to swap with 0x v4 (txHash: ").concat(p.transactionHash,")"));case 19:return y=i.buildOrder(c,u,n.state.accountAddress,{fees:[{amount:0,recipient:n.state.contractAddress}]}),e.next=22,i.signOrder(y);case 22:return f=e.sent,e.next=25,i.postOrder(f,n.state.chainId).then(Object(d.a)(l.a.mark(function e(){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.state.DodNftContract.methods.getListingPrice().call({from:n.state.accountAddress});case 2:return a=e.sent,e.next=5,n.state.DodNftContract.methods.createMarketItem(t).send({from:n.state.accountAddress,to:n.state.contractAddress,value:a}).on("transactionHash",function(){n.setState({loading:!1}),T.a.success(r.a.createElement("div",null,r.a.createElement("h4",{style:{color:"white",fontWeight:"600"}},"NFT listed successfully")," ",r.a.createElement("p",null,"Block confirmation could take a few minutes.")," ",r.a.createElement("p",null," Refresh marketplace in a few minutes to view newly listed NFT")),{}),console.log("for sale activated")});case 5:case"end":return e.stop()}},e)})));case 25:e.next=32;break;case 27:e.prev=27,e.t0=e.catch(2),console.log("error",e.t0),n.setState({loading:!1}),T.a.error(e.t0.message?e.t0.message.slice(0,30):" NFT Listing failed");case 32:case"end":return e.stop()}},e,null,[[2,27]])}));return function(t,n){return e.apply(this,arguments)}}(),n.removeFromSale=function(){var e=Object(d.a)(l.a.mark(function e(t){var a,s,o,i,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),n.setState({text:"Do not close this window while NFT is being unlisted"}),e.prev=2,a=new E.a.providers.Web3Provider(window.ethereum),s=a.getSigner(n.state.accountAddress),o=new w.a(a,s,n.state.chainId),e.next=8,o.getOrders({nftToken:n.state.contractAddress,nftTokenId:t,sellOrBuyNft:"sell"});case 8:return i=e.sent,console.log(i),c=i.orders[0].order.nonce,e.next=13,o.cancelOrder(c,"ERC721").then(Object(d.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.state.DodNftContract.methods.removeFromSale(t).send({from:n.state.accountAddress}).on("transactionHash",function(){n.setState({loading:!1}),T.a.success(r.a.createElement("div",null,r.a.createElement("h4",{style:{color:"white",fontWeight:"600"}},"DOD NFT unlisted successfully")," ",r.a.createElement("p",null,"Block confirmation could take a few minutes.")," ",r.a.createElement("p",null," Refresh marketplace in a few minutes to view newly unlisted NFT")),{})});case 2:case"end":return e.stop()}},e)})));case 13:e.next=20;break;case 15:e.prev=15,e.t0=e.catch(2),console.log("error",e.t0),n.setState({loading:!1}),T.a.error(e.t0.message?e.t0.message.slice(0,30):"NFT unlisting failed");case 20:case"end":return e.stop()}},e,null,[[2,15]])}));return function(t){return e.apply(this,arguments)}}(),n.changeTokenPrice=function(){var e=Object(d.a)(l.a.mark(function e(t,a){var s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.setState({loading:!0}),n.setState({text:"Do not close this window while NFT price is being changed"}),s=window.web3.utils.toWei(a,"Ether"),e.next=6,n.state.DodNftContract.methods.changeTokenPrice(t,s).send({from:n.state.accountAddress}).on("transactionHash",function(){n.setState({loading:!1}),T.a.success(r.a.createElement("div",null,r.a.createElement("h4",{style:{color:"white",fontWeight:"600"}},"DOD NFT price change successfully"),". ",r.a.createElement("p",null,"Block confirmation could take a few minutes.")," ",r.a.createElement("p",null," Refresh marketplace in a few minutes to view newly updated NFT price")),{})});case 6:e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error",e.t0,e.t0.message),n.setState({loading:!1}),T.a.error(e.t0.message?e.t0.message.slice(0,30):"NFT price change failed");case 13:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,n){return e.apply(this,arguments)}}(),n.buyDodNft=function(){var e=Object(d.a)(l.a.mark(function e(t,a){var s,o,i,c,u,m,p,y,f,b;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),n.setState({text:"Do not close this window while NFT is being bought"}),e.prev=2,s=new E.a.providers.Web3Provider(window.ethereum),o=s.getSigner(n.state.accountAddress),i=new w.a(s,o,n.state.chainId),c={tokenAddress:"0xe11a86849d99f524cac3e7a0ec1241828e332c62",amount:a,type:"ERC20"},e.next=9,i.loadApprovalStatus(c,n.state.accountAddress);case 9:if(e.sent.contractApproved){e.next=18;break}return e.next=13,i.approveTokenOrNftByAsset(c,n.state.accountAddress);case 13:return u=e.sent,e.next=16,u.wait();case 16:m=e.sent,console.log("Approved ".concat(c.tokenAddress," contract to swap with 0x. TxHash: ").concat(m.transactionHash,")"));case 18:return e.next=20,i.getOrders({nftToken:n.state.contractAddress,nftTokenId:t,sellOrBuyNft:"sell"});case 20:return p=e.sent,y=p.orders[0],console.log(y),e.next=25,i.fillSignedOrder(y.order).then(Object(d.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("yes"),e.next=3,n.state.DodNftContract.methods.createMarketSale(t).send({from:n.state.accountAddress}).on("transactionHash",function(){n.setState({loading:!1}),T.a.success(r.a.createElement("div",null,r.a.createElement("h4",{style:{color:"white",fontWeight:"600"}},"DOD NFT purchase successfully"),". ",r.a.createElement("p",null,"Block confirmation could take a few minutes.")," ",r.a.createElement("p",null," Refresh marketplace in a few minutes to view newly purchased NFT")),{})});case 3:case"end":return e.stop()}},e)})));case 25:return f=e.sent,e.next=28,f.wait();case 28:b=e.sent,console.log(b),e.next=37;break;case 32:e.prev=32,e.t0=e.catch(2),console.log(e.t0),n.setState({loading:!1}),T.a.error(e.t0.message?e.t0.message.slice(0,30):"NFT purchase failed");case 37:case"end":return e.stop()}},e,null,[[2,32]])}));return function(t,n){return e.apply(this,arguments)}}(),n.state={accountAddress:"",accountBalance:"",DODnftsContract:null,DODnftsCount:0,DODnfts:[],loading:!0,metamaskConnected:!1,contractDetected:!1,totalTokensMinted:0,totalTokensOwnedByAccount:0,nameIsUsed:!1,colorIsUsed:!1,colorsUsed:[],lastMintTime:null,chainId:80001,contractAddress:"0x4D737c9F72fC9AbA9140Cecb65cd5DD7F43eDA8a",text:""},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement(g.Toaster,{position:"top-right",reverseOrder:!0,gutter:8,containerClassName:"",containerStyle:{},toastOptions:{success:{duration:5e3,style:{color:"white",background:"green"}},error:{duration:5e3,style:{color:"white",background:"red"}}}},function(e){return r.a.createElement(g.ToastBar,{toast:e},function(t){t.icon;var n=t.message;return r.a.createElement(r.a.Fragment,null,n,"loading"!==e.type&&r.a.createElement("button",{style:{border:"none",background:"transparent",borderRadius:"20px",color:"white"},onClick:function(){return T.a.dismiss(e.id)}},"X"))})}),";",this.state.metamaskConnected?this.state.contractDetected?this.state.loading?r.a.createElement(I,{text:this.state.text}):r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{basename:"/"},r.a.createElement(U,null),r.a.createElement(h.a,{path:"/",exact:!0,render:function(){return r.a.createElement(C,{accountAddress:e.state.accountAddress,accountBalance:e.state.accountBalance})}}),r.a.createElement(h.a,{path:"/mint",render:function(){return r.a.createElement(x,{mintMyNFT:e.mintMyNFT,nameIsUsed:e.state.nameIsUsed,setMintBtnTimer:e.setMintBtnTimer})}}),r.a.createElement(h.a,{path:"/marketplace",render:function(){return r.a.createElement(F,{accountAddress:e.state.accountAddress,DODnfts:e.state.DODnfts,totalTokensMinted:e.state.totalTokensMinted,changeTokenPrice:e.changeTokenPrice,addForSale:e.addForSale,removeFromSale:e.removeFromSale,buyDodNft:e.buyDodNft})}}),r.a.createElement(h.a,{path:"/my-tokens",render:function(){return r.a.createElement(L,{accountAddress:e.state.accountAddress,DODnfts:e.state.DODnfts,totalTokensOwnedByAccount:e.state.totalTokensOwnedByAccount})}}),r.a.createElement(h.a,{path:"/queries",render:function(){return r.a.createElement(H,{DodNftContract:e.state.DodNftContract})}}))):r.a.createElement(j,null):r.a.createElement(R,{connectToMetamask:this.connectToMetamask}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(989);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[426,2,1]]]);
//# sourceMappingURL=main.a2fc9080.chunk.js.map